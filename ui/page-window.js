(function(_0x4467c0,_0x244965){const _0x125dd8=_0x4f9e,_0x34dec2=_0x4467c0();while(!![]){try{const _0x5c1192=-parseInt(_0x125dd8(0xde))/0x1*(parseInt(_0x125dd8(0xe0))/0x2)+-parseInt(_0x125dd8(0xc2))/0x3*(-parseInt(_0x125dd8(0xd5))/0x4)+-parseInt(_0x125dd8(0xc4))/0x5+parseInt(_0x125dd8(0xd3))/0x6+parseInt(_0x125dd8(0xc7))/0x7*(-parseInt(_0x125dd8(0xc6))/0x8)+-parseInt(_0x125dd8(0xdb))/0x9+parseInt(_0x125dd8(0xce))/0xa*(parseInt(_0x125dd8(0xd0))/0xb);if(_0x5c1192===_0x244965)break;else _0x34dec2['push'](_0x34dec2['shift']());}catch(_0x4ef8b1){_0x34dec2['push'](_0x34dec2['shift']());}}}(_0x5610,0xaf2f4));import{messageFormatting}from'/script.js';function loadShowdown(){return new Promise((_0x3f970a,_0x493fdb)=>{const _0x1d7e4f=_0x4f9e;if(window[_0x1d7e4f(0xe2)]){_0x3f970a();return;}const _0x53d7ca=document[_0x1d7e4f(0xe3)](_0x1d7e4f(0xc8));_0x53d7ca[_0x1d7e4f(0xdd)]=_0x1d7e4f(0xe4),_0x53d7ca[_0x1d7e4f(0xd1)]=_0x3f970a,_0x53d7ca['onerror']=_0x493fdb,document[_0x1d7e4f(0xbb)][_0x1d7e4f(0xd7)](_0x53d7ca);});}function _0x4f9e(_0x360755,_0x25907c){const _0x56105c=_0x5610();return _0x4f9e=function(_0x4f9e8d,_0x2dc775){_0x4f9e8d=_0x4f9e8d-0xb6;let _0x2d9907=_0x56105c[_0x4f9e8d];return _0x2d9907;},_0x4f9e(_0x360755,_0x25907c);}export async function showContentModal(_0x357e8b,_0xf320ec){const _0x11e4c2=_0x4f9e;try{await loadShowdown();const _0x56d266=await $[_0x11e4c2(0xe1)](_0xf320ec),_0x33c03a=new showdown[(_0x11e4c2(0xdf))]({'tables':!![],'strikethrough':!![],'ghCodeBlocks':!![]}),_0x50d9d8=_0x33c03a[_0x11e4c2(0xb6)](_0x56d266),_0x5275ba=_0x11e4c2(0xd2)+_0x357e8b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-content\x22\x20style=\x22height:\x2060vh;\x20overflow-y:\x20auto;\x20background:\x20rgba(0,0,0,0.2);\x20padding:\x2015px;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mes_text\x22>'+_0x50d9d8+_0x11e4c2(0xcb),_0xf5f8c6=$(_0x5275ba)[_0x11e4c2(0xd9)](_0x11e4c2(0xdc)),_0x3b1367=()=>{const _0x1b2e0c=_0x11e4c2;_0xf5f8c6[0x0][_0x1b2e0c(0xd8)](),_0xf5f8c6[_0x1b2e0c(0xc3)]();};_0xf5f8c6[_0x11e4c2(0xbc)]('.popup-button-ok')['on'](_0x11e4c2(0xe8),_0x3b1367),_0xf5f8c6[0x0]['showModal']();}catch(_0x2b247d){console['error']('[Amily-翰林院]\x20紧急报告：加载教程内容\x20['+_0x357e8b+_0x11e4c2(0xe5),_0x2b247d),toastr[_0x11e4c2(0xcc)](_0x11e4c2(0xe7)+_0x2b247d[_0x11e4c2(0xbe)],_0x11e4c2(0xda));}}export function showHtmlModal(_0x45cc81,_0x497918,_0x34d970={}){const _0x37bdcc=_0x4f9e,{okText:okText='确认',cancelText:cancelText='取消',onOk:_0x55011f,onCancel:_0x1cd856,showCancel:showCancel=!![]}=_0x34d970,_0xa71ebb=_0x37bdcc(0xe6)+(showCancel?_0x37bdcc(0xc9)+cancelText+_0x37bdcc(0xb7):'')+_0x37bdcc(0xba)+okText+_0x37bdcc(0xd4),_0x2e7ee5=_0x37bdcc(0xbf)+_0x45cc81+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-content\x22\x20style=\x22height:\x2060vh;\x20overflow-y:\x20auto;\x20background:\x20rgba(0,0,0,0.2);\x20padding:\x2015px;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x497918+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-controls\x22\x20style=\x22display:\x20flex;\x20justify-content:\x20flex-end;\x20gap:\x2010px;\x22>'+_0xa71ebb+_0x37bdcc(0xc0),_0x5ef0a7=$(_0x2e7ee5)[_0x37bdcc(0xd9)](_0x37bdcc(0xdc)),_0x38b168=()=>{const _0x163d42=_0x37bdcc;_0x5ef0a7[0x0][_0x163d42(0xd8)](),_0x5ef0a7[_0x163d42(0xc3)]();};return _0x5ef0a7[_0x37bdcc(0xbc)]('.popup-button-ok')['on'](_0x37bdcc(0xe8),()=>{if(_0x55011f){const _0x29e7ac=_0x55011f(_0x5ef0a7);_0x29e7ac!==![]&&_0x38b168();}else _0x38b168();}),showCancel&&_0x5ef0a7[_0x37bdcc(0xbc)](_0x37bdcc(0xc5))['on'](_0x37bdcc(0xe8),()=>{_0x1cd856&&_0x1cd856(),_0x38b168();}),_0x5ef0a7[0x0][_0x37bdcc(0xc1)](),_0x5ef0a7;}function _0x5610(){const _0xf0c564=['</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-controls\x22><div\x20class=\x22popup-button-ok\x20menu_button\x20menu_button_primary\x20interactable\x22>朕已阅</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</dialog>','error','取消写入','10NvoPDM','<button\x20class=\x22menu_button\x20secondary\x20interactable\x22\x20style=\x22margin-right:\x20auto;\x22>重新生成</button>','10786127urxmtM','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<dialog\x20class=\x22popup\x20wide_dialogue_popup\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x20color:\x20#eee;\x20border-bottom:\x201px\x20solid\x20rgba(255,255,255,0.2);\x20padding-bottom:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x22\x20style=\x22color:\x20#58a6ff;\x22></i>\x20','6415806anycuj','</button>\x0a\x20\x20\x20\x20','12jKjmgB','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','appendChild','close','appendTo','翰林院回报','8083503aRyUOX','body','src','1550fuySEp','Converter','158HdTHBk','get','showdown','createElement','https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js',']\x20时发生意外:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','无法加载教程:\x20','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22historiographer-summary-modal\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22text_pole\x22\x20style=\x22width:\x20100%;\x20height:\x2050vh;\x20resize:\x20vertical;\x22>','makeHtml','</button>','.popup-controls','textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22popup-button-ok\x20menu_button\x20menu_button_primary\x20interactable\x22>','head','find','prepend','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<dialog\x20class=\x22popup\x20wide_dialogue_popup\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x20color:\x20#eee;\x20border-bottom:\x201px\x20solid\x20rgba(255,255,255,0.2);\x20padding-bottom:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22\x20style=\x22color:\x20#58a6ff;\x22></i>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</dialog>','showModal','849618hAeDeM','remove','4649205jiCYql','.popup-button-cancel','132264JuTCQj','98aHtblJ','script','<button\x20class=\x22popup-button-cancel\x20menu_button\x20secondary\x20interactable\x22>','确认写入'];_0x5610=function(){return _0xf0c564;};return _0x5610();}export function showSummaryModal(_0x510fce,_0x43df1d){const _0x2c7f4f=_0x4f9e,{onConfirm:_0x34d9ae,onRegenerate:_0x41ac71,onCancel:_0x73801}=_0x43df1d,_0x4edc2e=_0x2c7f4f(0xe9)+_0x510fce+_0x2c7f4f(0xd6),_0x27b0d6=showHtmlModal('预览与修订',_0x4edc2e,{'okText':_0x2c7f4f(0xca),'cancelText':_0x2c7f4f(0xcd),'showCancel':!![],'onOk':_0x1335bc=>{const _0x1181f4=_0x2c7f4f,_0x2668e1=_0x1335bc[_0x1181f4(0xbc)](_0x1181f4(0xb9))['val']();_0x34d9ae&&_0x34d9ae(_0x2668e1);},'onCancel':()=>{_0x73801&&_0x73801();}}),_0x58f109=$(_0x2c7f4f(0xcf));_0x58f109['on'](_0x2c7f4f(0xe8),()=>{_0x41ac71&&_0x41ac71(_0x27b0d6);}),_0x27b0d6[_0x2c7f4f(0xbc)](_0x2c7f4f(0xb8))[_0x2c7f4f(0xbd)](_0x58f109);}