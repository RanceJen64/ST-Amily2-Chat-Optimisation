const _0x2269de=_0x2ff8;(function(_0x4d42b1,_0x2ee239){const _0x9e8dae=_0x2ff8,_0x2fba1b=_0x4d42b1();while(!![]){try{const _0x5ad05e=parseInt(_0x9e8dae(0x10e))/0x1*(-parseInt(_0x9e8dae(0x114))/0x2)+-parseInt(_0x9e8dae(0x11d))/0x3+parseInt(_0x9e8dae(0x12b))/0x4*(parseInt(_0x9e8dae(0x12c))/0x5)+-parseInt(_0x9e8dae(0x12a))/0x6*(parseInt(_0x9e8dae(0x12d))/0x7)+parseInt(_0x9e8dae(0x122))/0x8+parseInt(_0x9e8dae(0x111))/0x9*(-parseInt(_0x9e8dae(0x115))/0xa)+-parseInt(_0x9e8dae(0x110))/0xb*(-parseInt(_0x9e8dae(0x113))/0xc);if(_0x5ad05e===_0x2ee239)break;else _0x2fba1b['push'](_0x2fba1b['shift']());}catch(_0x26286d){_0x2fba1b['push'](_0x2fba1b['shift']());}}}(_0x47c5,0x7f10a));import{setExtensionPrompt}from'/script.js';import{extension_settings}from'/scripts/extensions.js';import{getBatchFillerFlowTemplate,convertTablesToCsvString,convertTablesToCsvStringForContentOnly}from'./manager.js';function _0x2ff8(_0x356377,_0x20f2c7){const _0x47c575=_0x47c5();return _0x2ff8=function(_0x2ff8d1,_0x5ca8ef){_0x2ff8d1=_0x2ff8d1-0x10c;let _0x470d9f=_0x47c575[_0x2ff8d1];return _0x470d9f;},_0x2ff8(_0x356377,_0x20f2c7);}import{tableSystemDefaultSettings}from'./settings.js';import{extensionName}from'../../utils/settings.js';const INJECTION_KEY=_0x2269de(0x10c);export function injectTableData(_0x5ca718,_0x49ec39,_0x386ad0,_0x3af574){const _0x5a6f4a=_0x2269de,_0x501dbb=extension_settings[extensionName]||{};if(_0x3af574===_0x5a6f4a(0x123))return;if(!_0x501dbb[_0x5a6f4a(0x11c)]){setExtensionPrompt(INJECTION_KEY,'',0x0,0x0,![],_0x5a6f4a(0x127));return;}try{let _0x14d59f='';const _0x2cc25e=_0x501dbb[_0x5a6f4a(0x128)]||_0x5a6f4a(0x129);if(_0x2cc25e===_0x5a6f4a(0x11e)){const _0x397d96='##以下内容是故事发生的剧情中提取出的内容，已经转化为表格形式呈现给你，请将以下内容作为后续剧情的一部分参考：\x0a{{{Amily2TableDataContent}}}',_0x1e155e=convertTablesToCsvStringForContentOnly();_0x1e155e[_0x5a6f4a(0x117)]()&&(_0x14d59f=_0x397d96[_0x5a6f4a(0x126)]('{{{Amily2TableDataContent}}}',_0x1e155e));}else{if(_0x2cc25e===_0x5a6f4a(0x11b)){const _0x82db24=_0x5a6f4a(0x112),_0x4e9621=convertTablesToCsvStringForContentOnly();_0x4e9621['trim']()&&(_0x14d59f=_0x82db24['replace'](_0x5a6f4a(0x10d),_0x4e9621));}else{const _0x218422=getBatchFillerFlowTemplate(),_0x509cbc=convertTablesToCsvString();_0x218422&&_0x509cbc[_0x5a6f4a(0x117)]()&&(_0x14d59f=_0x218422[_0x5a6f4a(0x126)]('{{{Amily2TableData}}}',_0x509cbc));}}if(!_0x14d59f){setExtensionPrompt(INJECTION_KEY,'',0x0,0x0,![],_0x5a6f4a(0x127));return;}const _0x38a6df=_0x501dbb['injection']||tableSystemDefaultSettings[_0x5a6f4a(0x118)],_0x170486=parseInt(_0x38a6df[_0x5a6f4a(0x116)],0xa),_0x4a15da=parseInt(_0x38a6df[_0x5a6f4a(0x120)],0xa),_0x5438e0=parseInt(_0x38a6df[_0x5a6f4a(0x121)],0xa);setExtensionPrompt(INJECTION_KEY,_0x14d59f,_0x170486,_0x4a15da,![],_0x5438e0),console[_0x5a6f4a(0x11a)](_0x5a6f4a(0x125)+_0x170486+_0x5a6f4a(0x10f)+_0x4a15da+_0x5a6f4a(0x124)+_0x5438e0+')。');}catch(_0x1e19a8){console[_0x5a6f4a(0x119)](_0x5a6f4a(0x11f),_0x1e19a8);}}function _0x47c5(){const _0x5575ac=['SYSTEM','filling_mode','main-api','48zArgOx','211444NCHVmi','10dTaTtq','759080JWFrcx','AMILY2_TABLE_SYSTEM','{{{Amily2TableDataContent}}}','78473GRpZAC',',\x20深度:\x20','20581fLWGGZ','249651oJyoGX','##以下内容是故事发生的剧情中提取出的内容，已经转化为表格形式呈现给你，请将以下内容作为后续剧情的一部分参考：\x0a{{{Amily2TableDataContent}}}','19596vHSwBC','16bgXZaE','270oxIgdo','position','trim','injection','error','log','optimized','table_injection_enabled','3078435Lqptcl','secondary-api','[Amily2-表格注入器]\x20注入表格数据时发生错误:','depth','role','5038360PSXhwn','quiet',',\x20角色:\x20','[Amily2-表格注入器]\x20已成功注入表格数据\x20(位置:\x20','replace'];_0x47c5=function(){return _0x5575ac;};return _0x47c5();}
